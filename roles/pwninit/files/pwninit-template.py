#!/usr/bin/env python3

import struct
from pwn import *

{bindings}

context.binary = elf
context.log_level = "DEBUG"
context(terminal=['tmux', 'split-window', '-h'])

def conn():
  if args.LOCAL:
    # s = process([elf.path, '--preload', libc.path, ld.path])
    s = process({proc_args})
    if args.DEBUG:
      gdb.attach(s)
  else:
   s = remote("addr",1337)

  return s

def find_offset(s):
  gdb.attach(s)
  s.sendlineafter(">", cyclic(0x100))
  s.interactive()

def exploit(s):
  # good luck pwning :)
  # s.receiveuntil("> ")

def main():
  try:
    s = conn()
    exploit(s)
    s.interactive()
  except Exception as error:
    print("\n\nAn exception occurred:", error)

if __name__ == "__main__":
  main()
